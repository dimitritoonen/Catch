<!-- ko if: shouldShow -->
<div id="addActivityControl" class="workspace activity add collapse in hidden-xs hidden-ms">
    <div class="padding">
        <div class="hidden-xs hidden-ms spacer col-sm-12">
            <div class="line"></div>
        </div>
        <div class="form-horizontal">
            <div class="form-group">
                <label for="descriptionTextbox" class="col-sm-2 controls-label">Description</label>
                <div class="col-sm-10 has-feedback" data-bind="validationElement: model.description">
                    <textarea id="descriptionTextbox" tabindex="1"
                              data-bind="value: model.description, qtipValMessage: model.description"
                              class="form-control" rows="4" maxlength="250" placeholder="Activity description"></textarea>
                    <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                </div>
            </div>
            <div class="add-activity-when form-group">
                <label for="dateTextbox" class="col-xs-12 col-sm-2 controls-label">When</label>
                <div class="col-xs-12 col-sm-10">
                    <div class="form-inline">
                        <div class="form-group has-feedback" data-bind="validationElement: model.date">
                            <input type="text" id="dateTextbox" tabindex="2" style="width: 130px"
                                   data-bind='qtipValMessage: model.date,
                                    datetimepicker: {
                                    options: {
                                        widgetPositioning: { horizontal: "left", vertical: "auto" }
                                    },
                                    change: onDatePickerChange
                                    }'
                                   class="form-control" placeholder="Date" />
                            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                        </div>
                        <div class="form-group has-feedback" data-bind="validationElement: model.time">
                            <input type="text" id="timeTextbox" tabindex="3" style="width: 93px"
                                   data-bind='qtipValMessage: model.time,
                                    datetimepicker: {
                                    options: {
                                        minDate: yesterdaysDate,
                                        format: "HH:mm",
                                        widgetPositioning: { horizontal: "right", vertical: "auto" }
                                    },
                                    change: onTimePickerChange
                                    }'
                                   class="form-control" placeholder="Time" />
                            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 controls-label">Category</label>
                <div class="col-sm-6">
                    <category-dropdown params='categories: model.categories, tabIndex: 4, selectedItem: "food", change: onCategoryChange'></category-dropdown>
                </div>
                <div class="col-sm-4"></div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 controls-label">Participants</label>
                <div class="col-sm-10">
                    <participant-slider params="value: model.participants, showLabel: false"></participant-slider>
                </div>
            </div>
            <div class="form-group">
                <label for="locationTextbox" class="col-sm-2 controls-label">Location</label>
                <div class="col-sm-10 has-feedback" data-bind="validationElement: model.location">
                    <input type="text" id="locationTextbox" tabindex="5"
                           data-bind="value: model.location, qtipValMessage: model.location"
                           class="form-control" maxlength="255" placeholder="Rotterdam" />
                    <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                </div>
            </div>
        </div> <!-- /form-horizontal -->
    </div>
    <div class="add-activity-button">
        <div class="pull-left">
            <label>
                <input type="checkbox" tabindex="6" data-bind="checked: model.chainaccept" />
                Chain accept
            </label>
        </div>
        <div class="pull-left">
            <i id="chainAcceptInfoButton" class="fa fa-question-circle fa-lg icon-blue-lighter"
                data-bind='qtipTooltip: { content: { text: $("#chainAcceptInfoButton").next(".tooltipText") } }'></i>
            <div class="tooltipText">
                <b>Chain accept</b> allows the last accepted participant to accept the next one
            </div>
        </div>
        <div class="pull-right">
            <button class="btn btn-primary btn-sm" tabindex="7" data-bind="click: model.addActivity">Add</button>
            <button class="btn btn-default btn-sm" tabindex="8" data-toggle="collapse" data-target=".add-activity">Cancel</button>
        </div>
    </div> <!-- /padding -->
</div> <!-- /add-activity -->
<!-- /ko -->